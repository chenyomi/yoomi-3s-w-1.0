import{a as B,V as r}from"./VRow-ae608ecd.js";import{V as x}from"./VTextField-00465832.js";import{a as T}from"./VSelect-f8b60354.js";import{V as P}from"./VContainer-61c17a00.js";import{i as k,a as y,b as D,q as F,w as n,e as a,h as e,G as g,B as R,o as z,n as I,K as L,A as _,t as b}from"./index-19a302a2.js";import{V as X}from"./VDataTableVirtual-2512bbfd.js";import{V as Y}from"./VCheckbox-59368711.js";/* empty css              */import"./forwardRefs-b500f5ac.js";import"./VImg-8c97a24c.js";import"./VMenu-7cc09679.js";import"./VAvatar-bf7834fa.js";import"./VDivider-e0d3d1fc.js";import"./VOverlay-22800ce3.js";import"./VCheckboxBtn-24dab6a2.js";const A={__name:"setting-clamp-form",props:{data:{type:Object}},setup(U,{expose:h}){const p=U,d=k("density"),t=y(p.data);return h({submit:()=>new Promise(V=>{V()})}),(V,l)=>(D(),F(P,null,{default:n(()=>[a(B,null,{default:n(()=>[a(r,{cols:"6",class:"text-center"},{default:n(()=>[a(x,{modelValue:e(t).name,"onUpdate:modelValue":l[0]||(l[0]=o=>e(t).name=o),label:"夹具名称：",density:e(d)},null,8,["modelValue","density"])]),_:1}),a(r,{cols:"6",class:"text-center"},{default:n(()=>[a(x,{modelValue:e(t).code,"onUpdate:modelValue":l[1]||(l[1]=o=>e(t).code=o),label:"编号：",density:e(d)},null,8,["modelValue","density"])]),_:1}),a(r,{cols:"6",class:"text-center"},{default:n(()=>[a(x,{modelValue:e(t).type,"onUpdate:modelValue":l[2]||(l[2]=o=>e(t).type=o),label:"类型：",density:e(d)},null,8,["modelValue","density"])]),_:1}),a(r,{cols:"6",class:"text-center"},{default:n(()=>[a(x,{modelValue:e(t).height,"onUpdate:modelValue":l[3]||(l[3]=o=>e(t).height=o),label:"钳高：",density:e(d)},null,8,["modelValue","density"])]),_:1}),a(r,{cols:"6",class:"text-center"},{default:n(()=>[a(x,{modelValue:e(t).deep,"onUpdate:modelValue":l[4]||(l[4]=o=>e(t).deep=o),label:"夹深：",density:e(d)},null,8,["modelValue","density"])]),_:1}),a(r,{cols:"6",class:"text-center"}),a(r,{cols:"6",class:"text-center"},{default:n(()=>[a(T,{class:"ma-1",color:"#FF9800"},{default:n(()=>[g(" X轴方向 ")]),_:1})]),_:1}),a(r,{cols:"6",class:"text-center"},{default:n(()=>[a(T,{class:"ma-1",color:"#4CAF50"},{default:n(()=>[g(" Y轴方向 ")]),_:1})]),_:1}),a(r,{cols:"6"},{default:n(()=>[a(x,{modelValue:e(t).exmx1,"onUpdate:modelValue":l[5]||(l[5]=o=>e(t).exmx1=o),label:"尺寸：",density:e(d),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"]),a(x,{modelValue:e(t).exmx2,"onUpdate:modelValue":l[6]||(l[6]=o=>e(t).exmx2=o),label:"定位：",density:e(d),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),a(r,{cols:"6"},{default:n(()=>[a(x,{modelValue:e(t).exmy1,"onUpdate:modelValue":l[7]||(l[7]=o=>e(t).exmy1=o),label:"尺寸：",density:e(d),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"]),a(x,{modelValue:e(t).exmy2,"onUpdate:modelValue":l[8]||(l[8]=o=>e(t).exmy2=o),label:"定位：",density:e(d),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1})]),_:1})]),_:1}))}},te={__name:"setting-clamp",setup(U){const h=k("density"),p=y();let d=[];const{t}=R();let W=[{id:1,name:"夹具1号",code:1601,exmx1:320,exmx2:160,exmy1:235,exmy2:170,deep:8,height:20,type:"虎钳"},{id:2,name:"夹具2号",code:1601,exmx1:320,exmx2:160,exmy1:235,exmy2:170,deep:8,height:20,type:"卡盘"},{id:3,name:"夹具3号",code:1601,exmx1:320,exmx2:160,exmy1:235,exmy2:170,deep:8,height:20,type:"零点"},{id:4,name:"夹具4号",code:1601,exmx1:320,exmx2:160,exmy1:235,exmy2:170,deep:8,height:20,type:"虎钳"}];const V={async fetch({page:u,itemsPerPage:m,sortBy:s}){return new Promise(i=>{setTimeout(()=>{i({items:W})},500)})}},l=k("btnList");z(()=>{I(()=>{l.value=[{name:"新增",color:"#42A5F5",size:"large",width:80,formWidth:800,slot:_(A),fn:({close:u,openLoading:m,closeLoading:s,diaFormRef:i})=>{m({text:"正在上传更新"}),i.submit().finally(()=>{u(),setTimeout(()=>{s()},2e3)})}},{name:"编辑",color:"#00ACC1",size:"large",width:80,formWidth:800,slot:_(A),fn:({close:u,openLoading:m,closeLoading:s,diaFormRef:i})=>{m({text:"正在上传更新"}),i.submit().finally(()=>{u(),setTimeout(()=>{s()},2e3)})}},{name:"保存",color:"#66BB6A",icon:"bx-cloud-upload",size:"large",width:220,mark:"是否保存并上传更新数据？",fn:({close:u,openLoading:m,closeLoading:s,diaFormRef:i})=>{m({text:"正在上传更新"}),u(),setTimeout(()=>{s()},2e3)}}]})});const o=y([{align:"start",sortable:!1,key:"exclusive",fixed:!0,minWidth:70},{title:t("名称"),align:"start",sortable:!1,key:"name",minWidth:90},{title:t("编号"),key:"code",align:"center",sortable:!1,minWidth:90},{title:t("类型"),key:"type",align:"center",sortable:!1,minWidth:90},{title:t("钳高"),key:"height",align:"center",sortable:!1,minWidth:90},{title:t("夹深"),key:"deep",align:"center",sortable:!1,minWidth:90},{title:t("尺寸")+"（X-Y）",key:"exmx1",align:"center",sortable:!1,minWidth:90},{title:t("定位")+"（X-Y）",key:"exmx2",align:"center",sortable:!1,minWidth:90}]),f=y([]),v=y(!0);function w({page:u,itemsPerPage:m,sortBy:s}){v.value=!0,V.fetch({page:u,itemsPerPage:m,sortBy:s}).then(({items:i,total:c})=>{f.value=i,v.value=!1,p.value=i[0].id,l.value[1].slotData=f.value.filter(C=>C.id==i[0].id)[0]})}return(u,m)=>(D(),F(X,{"fixed-header":"",headers:e(o),items:e(f),loading:e(v),"loading-text":"",hover:"",height:"calc(100vh - 175px)","expand-on-click":"",density:e(h),"onUpdate:options":w,"onUpdate:expanded":m[0]||(m[0]=s=>{s.map(i=>{e(d).includes(i)||(p.value=i,e(l)[1].slotData=e(f).filter(c=>c.id==i)[0])}),e(d).map(i=>{s.includes(i)||(p.value=i,e(l)[1].slotData=e(f).filter(c=>c.id==i)[0])}),L(d)?d.value=s:d=s})},{"item.exclusive":n(({item:s})=>[a(Y,{"model-value":s.id==e(p),readonly:""},null,8,["model-value"])]),"item.exmx1":n(({item:s})=>[g(b(s.exmx1)+"-"+b(s.exmy1),1)]),"item.exmx2":n(({item:s})=>[g(b(s.exmx2)+"-"+b(s.exmy2),1)]),loading:n(()=>[]),_:1},8,["headers","items","loading","density"]))}};export{te as default};
