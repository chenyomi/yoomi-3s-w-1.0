import{i as R,a as b,F as z,o as O,R as I,b as u,q as v,w as n,e as s,h as e,O as g,p as A,j as G,f as i,U as L,W as X,J as Y,n as Z,d as x,t as h,G as W,Q as q,S as T,I as $,af as M,M as D,L as U}from"./index-19a302a2.js";import{c as E}from"./createMaterial-d4e4d210.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import{V as j,a as P}from"./VRow-ae608ecd.js";import{V as Q,a as H}from"./VSelect-f8b60354.js";import{V as y}from"./VTextField-00465832.js";import{V as F,b as K}from"./VCard-4e0404ab.js";import{V as ee}from"./VDialog-1e02a8a3.js";import{V as te}from"./VDivider-e0d3d1fc.js";import{V as le}from"./VTooltip-4629e90f.js";import"./OrbitControls-9a794e07.js";/* empty css              */import"./forwardRefs-b500f5ac.js";import"./VMenu-7cc09679.js";import"./VImg-8c97a24c.js";import"./VAvatar-bf7834fa.js";import"./VOverlay-22800ce3.js";import"./VCheckboxBtn-24dab6a2.js";const ae=f=>(A("data-v-59fb9a23"),f=f(),G(),f),oe=ae(()=>i("div",{id:"box",class:"w-100",style:{height:"21.5rem"}},null,-1)),se={__name:"task-outbound-form",props:{data:{type:Object,default:()=>({})}},setup(f){const V=f;let l=null;const d=R("density"),t=b({pro:"0",clientX:80,clientY:80,clientZ:80,clientR:10,shift:118,mNum:0,mName:"80*80*80 D01"}),c=[{title:"立方体",value:"0"},{title:"圆柱体",value:"1"}];z(()=>V.data,k=>{t.value=Object.assign(t.value,k),l.disWebGl(),setTimeout(()=>{l.updata(t.value)},0)});const p=()=>{l.disWebGl(),setTimeout(()=>{l.updata(t.value)},0)};return O(()=>{setTimeout(()=>{t.value=Object.assign(t.value,V.data),l=new E},0)}),I(()=>{l.disWebGl()}),(k,a)=>(u(),v(P,{class:"pt-3"},{default:n(()=>[s(j,{cols:"3"},{default:n(()=>[s(Q,{modelValue:e(t).pro,"onUpdate:modelValue":[a[0]||(a[0]=o=>e(t).pro=o),p],items:c,density:e(d),class:"mb-2",label:"物料形状"},null,8,["modelValue","density"]),s(y,{modelValue:e(t).mName,"onUpdate:modelValue":a[1]||(a[1]=o=>e(t).mName=o),label:"物料名称：",density:e(d),class:"mb-2"},null,8,["modelValue","density"]),s(y,{modelValue:e(t).mNum,"onUpdate:modelValue":a[2]||(a[2]=o=>e(t).mNum=o),label:"数量",density:e(d),class:"mb-2"},null,8,["modelValue","density"]),e(t).pro==="0"?(u(),v(y,{key:0,modelValue:e(t).clientX,"onUpdate:modelValue":[a[3]||(a[3]=o=>e(t).clientX=o),p],label:"X轴长度：",density:e(d),class:"mb-2",suffix:"mm"},null,8,["modelValue","density"])):g("",!0),e(t).pro==="0"?(u(),v(y,{key:1,modelValue:e(t).clientY,"onUpdate:modelValue":[a[4]||(a[4]=o=>e(t).clientY=o),p],label:"Y轴长度：",density:e(d),class:"mb-2",suffix:"mm"},null,8,["modelValue","density"])):g("",!0),e(t).pro==="1"?(u(),v(y,{key:2,modelValue:e(t).clientR,"onUpdate:modelValue":[a[5]||(a[5]=o=>e(t).clientR=o),p],label:"半径：",density:e(d),class:"mb-2",suffix:"mm"},null,8,["modelValue","density"])):g("",!0),s(y,{modelValue:e(t).clientZ,"onUpdate:modelValue":[a[6]||(a[6]=o=>e(t).clientZ=o),p],label:"Z轴长度：",density:e(d),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),s(j,{cols:"9"},{default:n(()=>[oe]),_:1})]),_:1}))}},B=J(se,[["__scopeId","data-v-59fb9a23"]]),ne={class:"h-100 d-flex flex-column"},re={class:"mx-3 px-3 mb-2 d-flex justify-space-between align-center"},ie={style:{display:"inline-block","vertical-align":"middle"}},ue={class:"d-flex align-center"},de={style:{"font-size":"0.75rem"}},me={class:"d-flex px-4 pt-5 pb-4 flex-wrap gap-3 text-center",style:{flex:"1","overflow-y":"scroll"}},ce=["onClick"],pe={class:"position-absolute text-center w-100",style:{bottom:"0",left:"0",background:"rgba(33, 33, 33, 70%)"}},fe={class:"pt-2"},ye={class:"px-6"},Oe={__name:"task-outbound",setup(f){const{mdAndDown:V}=L(),l=X(),d=Y(),t={0:{color:"#435b63",name:"空"},1:{color:"#00796B",name:"少量"},2:{color:"#FF8F00",name:"快满"},3:{color:"#B71C1C",name:"已满"}};let c=0;l.query.type=="0"&&l.query.process=="in"&&(c=3),l.query.type=="0"&&l.query.process!=="in"&&(c=5),l.query.type=="1"&&l.query.process=="in"&&(c=5),l.query.type=="1"&&l.query.process!=="in"&&(c=35);const p=b(new Array(c)),k=R("btnList"),a=b(!1),o=b({}),C=b(null),S=_=>{o.value=_,N.value=_.index,a.value=!0,clearTimeout(C.value),C.value=setTimeout(()=>{a.value=!1},3e3)},N=b(null);return O(()=>{Z(()=>{k.value=[{name:"完成",color:"#D32F2F",icon:"bxs-zap",size:"large",width:220,mark:"是否创建",fn:({close:_,openLoading:w,closeLoading:m})=>{w({text:"保存中"}),_(),setTimeout(()=>{m(),d.push({path:"/tasklist"})},1e3)}}]})}),(_,w)=>(u(),x("div",ne,[s(F,{class:"pt-2 pb-2 d-flex flex-column",style:{flex:"1"}},{default:n(()=>[i("h4",re,[i("div",null,[i("span",ie,h(e(l).query.type=="0"?"料箱":"料盘")+"：",1),s(H,{color:"#4CAF50",class:"mx-3 justify-center",style:{width:"8.125rem"}},{default:n(()=>[W(h(o.value.name||"未选择"),1)]),_:1})]),i("div",ue,[(u(!0),x(q,null,T(Object.entries(t),([m,r])=>(u(),x(q,{key:m},[i("div",{style:U(`width: 1.2rem;height: 1.2rem;background: ${r.color};border-radius: 0.1875rem;margin-left: 1.25rem;margin-right: 0.5rem`)},null,4),i("div",de,h(r.name),1)],64))),128))]),e(V)?(u(),v(ee,{key:0,width:"800"},{activator:n(({props:m})=>[s($,M({color:"primary"},m,{variant:"tonal"}),{default:n(()=>[s(D,{icon:"bxs-cube-alt"})]),_:2},1040)]),default:n(()=>[s(F,null,{default:n(()=>[s(K,null,{default:n(()=>[s(B,{data:o.value},null,8,["data"])]),_:1})]),_:1})]),_:1})):g("",!0)]),s(te),i("div",me,[(u(!0),x(q,null,T(p.value,(m,r)=>(u(),x("div",{key:m,style:U([{position:"relative",overflow:"hidden",width:"70px",height:"70px","border-radius":"6px",color:"#fff","font-size":"12px"},{background:t[r%8==0?1:0].color,border:N.value==r?"2px solid #FF80AB":"2px solid rgb(var(--v-theme-surface))"}]),onClick:be=>S({name:r+1+(e(l).query.type=="0"?"号料箱":"号料盘"),code:r+1,mNum:e(l).query.type=="0"?0:10,num:32,mName:"80*80*80 物料A-"+(r+1),pro:r%2==0?"0":"1",status:0,clientX:80,clientY:80,clientZ:80,clientR:10,shift:118,index:r})},[s(D,{icon:e(l).query.type=="0"?"bx-archive":"bx-selection",color:"#bdbdbd",size:"30",class:"mt-3"},null,8,["icon"]),i("div",pe," 0"+h(r+1),1)],12,ce))),128))]),s(le,{modelValue:a.value,"onUpdate:modelValue":w[0]||(w[0]=m=>a.value=m),activator:"parent",location:"top","open-on-hover":!1},{default:n(()=>[i("span",fe,h(o.value.name),1)]),_:1},8,["modelValue"])]),_:1}),e(V)?g("",!0):(u(),v(F,{key:0,class:"mt-3 pt-2 pb-2"},{default:n(()=>[i("div",ye,[s(B,{data:o.value},null,8,["data"])])]),_:1}))]))}};export{Oe as default};
