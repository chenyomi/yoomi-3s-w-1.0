import{a as W,V as r}from"./VRow-ae608ecd.js";import{V as c}from"./VTextField-00465832.js";import{a as _}from"./VSelect-f8b60354.js";import{V as w}from"./VContainer-61c17a00.js";import{i as z,a as y,b as T,q as U,w as m,e as t,h as e,G as V,B,o as P,n as R,K as I,A,t as h}from"./index-19a302a2.js";import{V as L}from"./VDataTableVirtual-2512bbfd.js";import{V as j}from"./VCheckbox-59368711.js";/* empty css              */import"./forwardRefs-b500f5ac.js";import"./VImg-8c97a24c.js";import"./VMenu-7cc09679.js";import"./VAvatar-bf7834fa.js";import"./VDivider-e0d3d1fc.js";import"./VOverlay-22800ce3.js";import"./VCheckboxBtn-24dab6a2.js";const F={__name:"setting-box-form",props:{data:{type:Object}},setup(k,{expose:u}){const b=k,n=z("density"),l=y(b.data);return u({submit:()=>new Promise(g=>{g()})}),(g,o)=>(T(),U(w,null,{default:m(()=>[t(W,null,{default:m(()=>[t(r,{cols:"6",class:"text-center"},{default:m(()=>[t(c,{modelValue:e(l).name,"onUpdate:modelValue":o[0]||(o[0]=i=>e(l).name=i),label:"料箱名称：",density:e(n)},null,8,["modelValue","density"])]),_:1}),t(r,{cols:"6",class:"text-center"},{default:m(()=>[t(c,{modelValue:e(l).code,"onUpdate:modelValue":o[1]||(o[1]=i=>e(l).code=i),label:"编号：",density:e(n)},null,8,["modelValue","density"])]),_:1}),t(r,{cols:"6",class:"text-center"},{default:m(()=>[t(c,{modelValue:e(l).maxKg,"onUpdate:modelValue":o[2]||(o[2]=i=>e(l).maxKg=i),label:"载重：",density:e(n)},null,8,["modelValue","density"])]),_:1}),t(r,{cols:"6",class:"text-center"}),t(r,{cols:"4",class:"text-center"},{default:m(()=>[t(_,{class:"ma-1",color:"#FF9800"},{default:m(()=>[V(" X轴方向 ")]),_:1})]),_:1}),t(r,{cols:"4",class:"text-center"},{default:m(()=>[t(_,{class:"ma-1",color:"#4CAF50"},{default:m(()=>[V(" Y轴方向 ")]),_:1})]),_:1}),t(r,{cols:"4",class:"text-center"},{default:m(()=>[t(_,{class:"ma-1",color:"#4CAF50"},{default:m(()=>[V(" Z轴方向 ")]),_:1})]),_:1}),t(r,{cols:"4"},{default:m(()=>[t(c,{modelValue:e(l).exmx1,"onUpdate:modelValue":o[3]||(o[3]=i=>e(l).exmx1=i),label:"尺寸：",density:e(n),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),t(r,{cols:"4"},{default:m(()=>[t(c,{modelValue:e(l).exmy1,"onUpdate:modelValue":o[4]||(o[4]=i=>e(l).exmy1=i),label:"尺寸：",density:e(n),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),t(r,{cols:"4"},{default:m(()=>[t(c,{modelValue:e(l).exmz1,"onUpdate:modelValue":o[5]||(o[5]=i=>e(l).exmz1=i),label:"尺寸：",density:e(n),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1})]),_:1})]),_:1}))}},te={__name:"setting-box",setup(k){const{t:u}=B(),b=z("density"),n=y();let l=[],K=[{id:1,name:"料箱1号",code:2001,exmx1:600,exmy1:400,exmz1:150,maxKg:30},{id:2,name:"料箱2号",code:2002,exmx1:600,exmy1:400,exmz1:150,maxKg:30},{id:3,name:"料箱3号",code:2003,exmx1:600,exmy1:400,exmz1:150,maxKg:30},{id:4,name:"料箱4号",code:2003,exmx1:600,exmy1:400,exmz1:150,maxKg:30},{id:5,name:"料箱5号",code:2003,exmx1:600,exmy1:400,exmz1:150,maxKg:30},{id:6,name:"料箱6号",code:2003,exmx1:600,exmy1:400,exmz1:150,maxKg:30},{id:7,name:"料箱7号",code:2003,exmx1:600,exmy1:400,exmz1:150,maxKg:30},{id:8,name:"料箱8号",code:2003,exmx1:600,exmy1:400,exmz1:150,maxKg:30}];const g={async fetch({page:x,itemsPerPage:d,sortBy:a}){return new Promise(s=>{setTimeout(()=>{s({items:K})},500)})}},o=z("btnList");P(()=>{R(()=>{o.value=[{name:"新增",color:"#42A5F5",size:"large",width:80,formWidth:800,slot:A(F),fn:({close:x,openLoading:d,closeLoading:a,diaFormRef:s})=>{d({text:"正在上传更新"}),s.submit().finally(()=>{x(),setTimeout(()=>{a()},2e3)})}},{name:"编辑",color:"#00ACC1",size:"large",width:80,formWidth:800,slot:A(F),fn:({close:x,openLoading:d,closeLoading:a,diaFormRef:s})=>{d({text:"正在上传更新"}),s.submit().finally(()=>{x(),setTimeout(()=>{a()},2e3)})}},{name:"保存",color:"#66BB6A",icon:"bx-cloud-upload",size:"large",width:220,mark:"是否保存并上传更新数据？",fn:({close:x,openLoading:d,closeLoading:a,diaFormRef:s})=>{d({text:"正在上传更新"}),x(),setTimeout(()=>{a()},2e3)}}]})});const i=y([{align:"start",sortable:!1,key:"exclusive",fixed:!0,minWidth:70},{title:u("名称"),align:"start",sortable:!1,key:"name",minWidth:90},{title:u("编号"),key:"code",align:"center",sortable:!1,minWidth:90},{title:u("载重"),key:"maxKg",align:"center",sortable:!1,minWidth:90},{title:u("尺寸")+"（X-Y-Z）",key:"exmx1",align:"center",sortable:!1,minWidth:90}]),f=y([]),v=y(!0);function D({page:x,itemsPerPage:d,sortBy:a}){v.value=!0,g.fetch({page:x,itemsPerPage:d,sortBy:a}).then(({items:s,total:p})=>{f.value=s,v.value=!1,n.value=s[0].id,o.value[1].slotData=f.value.filter(C=>C.id==s[0].id)[0]})}return(x,d)=>(T(),U(L,{"fixed-header":"",headers:e(i),items:e(f),loading:e(v),"loading-text":"",hover:"",height:"calc(100vh - 175px)","expand-on-click":"",density:e(b),"onUpdate:options":D,"onUpdate:expanded":d[0]||(d[0]=a=>{a.map(s=>{e(l).includes(s)||(n.value=s,e(o)[1].slotData=e(f).filter(p=>p.id==s)[0])}),e(l).map(s=>{a.includes(s)||(n.value=s,e(o)[1].slotData=e(f).filter(p=>p.id==s)[0])}),I(l)?l.value=a:l=a})},{"item.exclusive":m(({item:a})=>[t(j,{"model-value":a.id==e(n),readonly:""},null,8,["model-value"])]),"item.exmx1":m(({item:a})=>[V(h(a.exmx1)+"-"+h(a.exmy1)+"-"+h(a.exmz1),1)]),loading:m(()=>[]),_:1},8,["headers","items","loading","density"]))}};export{te as default};
