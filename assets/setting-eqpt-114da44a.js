import{a as U,V as r}from"./VRow-ae608ecd.js";import{V as d}from"./VTextField-00465832.js";import{a as W}from"./VSelect-f8b60354.js";import{V as R}from"./VContainer-61c17a00.js";import{i as C,a as g,b as w,q as B,w as o,e as t,h as e,G as p,B as X,o as Y,n as Z,K as _,A,t as y}from"./index-19a302a2.js";import{V as h}from"./VDataTableVirtual-2512bbfd.js";import{V as q}from"./VCheckbox-59368711.js";/* empty css              */import"./forwardRefs-b500f5ac.js";import"./VImg-8c97a24c.js";import"./VMenu-7cc09679.js";import"./VAvatar-bf7834fa.js";import"./VDivider-e0d3d1fc.js";import"./VOverlay-22800ce3.js";import"./VCheckboxBtn-24dab6a2.js";const D={__name:"setting-eqpt-form",props:{data:{type:Object}},setup(F,{expose:x}){const k=F,i=C("density"),l=g(k.data);return x({submit:()=>new Promise(z=>{z()})}),(z,a)=>(w(),B(R,null,{default:o(()=>[t(U,null,{default:o(()=>[t(r,{cols:"4"},{default:o(()=>[t(d,{modelValue:e(l).name,"onUpdate:modelValue":a[0]||(a[0]=m=>e(l).name=m),label:"设备名称：",density:e(i),class:"mb-2"},null,8,["modelValue","density"])]),_:1})]),_:1}),t(U,null,{default:o(()=>[t(r,{cols:"4"},{default:o(()=>[t(d,{modelValue:e(l).timer1,"onUpdate:modelValue":a[1]||(a[1]=m=>e(l).timer1=m),label:"生产延时：",density:e(i),suffix:"s",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),t(r,{cols:"4"},{default:o(()=>[t(d,{modelValue:e(l).timer2,"onUpdate:modelValue":a[2]||(a[2]=m=>e(l).timer2=m),label:"切换延时：",density:e(i),suffix:"s",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),t(r,{cols:"4"},{default:o(()=>[t(d,{modelValue:e(l).timer3,"onUpdate:modelValue":a[3]||(a[3]=m=>e(l).timer3=m),label:"启动延时：",density:e(i),suffix:"s",class:"mb-2"},null,8,["modelValue","density"])]),_:1})]),_:1}),t(U,null,{default:o(()=>[t(r,{cols:"4",class:"text-center"},{default:o(()=>[t(W,{class:"ma-1",color:"#FF9800"},{default:o(()=>[p(" X轴方向 ")]),_:1})]),_:1}),t(r,{cols:"4",class:"text-center"},{default:o(()=>[t(W,{class:"ma-1",color:"#4CAF50"},{default:o(()=>[p(" Y轴方向 ")]),_:1})]),_:1}),t(r,{cols:"4",class:"text-center"},{default:o(()=>[t(W,{class:"ma-1",color:"#2196F3"},{default:o(()=>[p(" Z轴方向 ")]),_:1})]),_:1}),t(r,{cols:"4"},{default:o(()=>[t(d,{modelValue:e(l).exmx1,"onUpdate:modelValue":a[4]||(a[4]=m=>e(l).exmx1=m),label:"校准设定值：",density:e(i),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"]),t(d,{modelValue:e(l).exmx2,"onUpdate:modelValue":a[5]||(a[5]=m=>e(l).exmx2=m),label:"最小定位：",density:e(i),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"]),t(d,{modelValue:e(l).exmx3,"onUpdate:modelValue":a[6]||(a[6]=m=>e(l).exmx3=m),label:"最大定位：",density:e(i),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),t(r,{cols:"4"},{default:o(()=>[t(d,{modelValue:e(l).exmy1,"onUpdate:modelValue":a[7]||(a[7]=m=>e(l).exmy1=m),label:"校准设定值：",density:e(i),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"]),t(d,{modelValue:e(l).exmy2,"onUpdate:modelValue":a[8]||(a[8]=m=>e(l).exmy2=m),label:"最小定位：",density:e(i),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"]),t(d,{modelValue:e(l).exmy3,"onUpdate:modelValue":a[9]||(a[9]=m=>e(l).exmy3=m),label:"最大定位：",density:e(i),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),t(r,{cols:"4"},{default:o(()=>[t(d,{modelValue:e(l).exmz1,"onUpdate:modelValue":a[10]||(a[10]=m=>e(l).exmz1=m),label:"校准设定值：",density:e(i),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"]),t(d,{modelValue:e(l).exmz2,"onUpdate:modelValue":a[11]||(a[11]=m=>e(l).exmz2=m),label:"最小定位：",density:e(i),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"]),t(d,{modelValue:e(l).exmz3,"onUpdate:modelValue":a[12]||(a[12]=m=>e(l).exmz3=m),label:"最大定位：",density:e(i),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1})]),_:1})]),_:1}))}},le={__name:"setting-eqpt",setup(F){const{t:x}=X(),k=C("density"),i=g();let l=[];const V=C("btnList");Y(()=>{Z(()=>{V.value=[{name:"新增",color:"#42A5F5",size:"large",width:80,formWidth:800,slot:A(D),mark:"是否保存并上传更新数据？",fn:({close:f,openLoading:u,closeLoading:s,diaFormRef:n})=>{u({text:"正在上传更新"}),n.submit().finally(()=>{f(),setTimeout(()=>{s()},2e3)})}},{name:"编辑",color:"#00ACC1",size:"large",width:80,formWidth:800,slot:A(D),mark:"是否保存并上传更新数据？",fn:({close:f,openLoading:u,closeLoading:s,diaFormRef:n})=>{u({text:"正在上传更新"}),n.submit().finally(()=>{f(),setTimeout(()=>{s()},2e3)})}},{name:"保存",color:"#66BB6A",icon:"bx-cloud-upload",size:"large",width:220,mark:"是否保存并上传更新数据？",fn:({close:f,openLoading:u,closeLoading:s,diaFormRef:n})=>{u({text:"正在上传更新"}),f(),setTimeout(()=>{s()},2e3)}}]})});const z=[{id:1,name:"设备1号",timer1:600,timer2:600,timer3:10,exmx1:0,exmx2:0,exmx3:0,exmy1:0,exmy2:0,exmy3:0,exmz1:0,exmz2:0,exmz3:0},{id:2,name:"设备2号",timer1:600,timer2:600,timer3:10,exmx1:0,exmx2:0,exmx3:0,exmy1:0,exmy2:0,exmy3:0,exmz1:0,exmz2:0,exmz3:0}],a={async fetch({page:f,itemsPerPage:u,sortBy:s}){return new Promise(n=>{setTimeout(()=>{n({items:z})},500)})}},m=g([{align:"start",sortable:!1,key:"exclusive",fixed:!0,minWidth:70},{title:x("名称"),align:"start",sortable:!1,key:"name",minWidth:120},{title:x("生产延时"),key:"timer1",align:"center",sortable:!1,minWidth:90},{title:x("切换延时"),key:"timer2",align:"center",sortable:!1,minWidth:90},{title:x("启动延时"),key:"timer3",align:"center",sortable:!1,minWidth:90},{title:x("校准设定值")+"（X-Y-Z）",key:"exmx1",align:"center",sortable:!1,minWidth:150},{title:x("最小定位")+"（X-Y-Z）",key:"exmx2",align:"center",sortable:!1,minWidth:140},{title:x("最大定位")+"（X-Y-Z）",key:"exmx3",align:"center",sortable:!1,minWidth:140}]),b=g([]),v=g(!0);function P({page:f,itemsPerPage:u,sortBy:s}){v.value=!0,a.fetch({page:f,itemsPerPage:u,sortBy:s}).then(({items:n,total:c})=>{b.value=n,v.value=!1,i.value=n[0].id,V.value[1].slotData=b.value.filter(T=>T.id==n[0].id)[0]})}return(f,u)=>(w(),B(h,{"fixed-header":"",headers:e(m),items:e(b),loading:e(v),"loading-text":"",hover:"",height:"calc(100vh - 175px)","expand-on-click":"",density:e(k),"onUpdate:options":P,"onUpdate:expanded":u[0]||(u[0]=s=>{s.map(n=>{e(l).includes(n)||(i.value=n,e(V)[1].slotData=e(b).filter(c=>c.id==n)[0])}),e(l).map(n=>{s.includes(n)||(i.value=n,e(V)[1].slotData=e(b).filter(c=>c.id==n)[0])}),_(l)?l.value=s:l=s})},{"item.exclusive":o(({item:s})=>[t(q,{"model-value":s.id==e(i),readonly:""},null,8,["model-value"])]),"item.exmx1":o(({item:s})=>[p(y(s.exmx1)+"-"+y(s.exmy1)+"-"+y(s.exmz1),1)]),"item.exmx2":o(({item:s})=>[p(y(s.exmx2)+"-"+y(s.exmy2)+"-"+y(s.exmz2),1)]),"item.exmx3":o(({item:s})=>[p(y(s.exmx3)+"-"+y(s.exmy3)+"-"+y(s.exmz3),1)]),loading:o(()=>[]),_:1},8,["headers","items","loading","density"]))}};export{le as default};
