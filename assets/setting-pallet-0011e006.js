import{a as w,V as u}from"./VRow-ae608ecd.js";import{V as y}from"./VTextField-00465832.js";import{a as A}from"./VSelect-f8b60354.js";import{V as P}from"./VContainer-61c17a00.js";import{i as v,a as V,b as B,q as U,w as o,e as l,h as e,G as h,o as I,n as R,B as z,K as L,A as D,t as F}from"./index-19a302a2.js";import{V as j}from"./VDataTableVirtual-2512bbfd.js";import{V as G}from"./VCheckbox-59368711.js";/* empty css              */import"./forwardRefs-b500f5ac.js";import"./VImg-8c97a24c.js";import"./VMenu-7cc09679.js";import"./VAvatar-bf7834fa.js";import"./VDivider-e0d3d1fc.js";import"./VOverlay-22800ce3.js";import"./VCheckboxBtn-24dab6a2.js";const T={__name:"setting-pallet-form",props:{data:{type:Object}},setup(_,{expose:b}){const c=_,d=v("density"),n=V(c.data);return b({submit:()=>new Promise(x=>{x()})}),(x,s)=>(B(),U(P,null,{default:o(()=>[l(w,null,{default:o(()=>[l(u,{cols:"6",class:"text-center"},{default:o(()=>[l(y,{modelValue:e(n).name,"onUpdate:modelValue":s[0]||(s[0]=i=>e(n).name=i),label:"托板名称：",density:e(d)},null,8,["modelValue","density"])]),_:1}),l(u,{cols:"6",class:"text-center"},{default:o(()=>[l(y,{modelValue:e(n).code,"onUpdate:modelValue":s[1]||(s[1]=i=>e(n).code=i),label:"编号：",density:e(d)},null,8,["modelValue","density"])]),_:1}),l(u,{cols:"6",class:"text-center"},{default:o(()=>[l(y,{modelValue:e(n).deep,"onUpdate:modelValue":s[2]||(s[2]=i=>e(n).deep=i),label:"厚度：",density:e(d)},null,8,["modelValue","density"])]),_:1}),l(u,{cols:"6",class:"text-center"}),l(u,{cols:"6",class:"text-center"},{default:o(()=>[l(A,{class:"ma-1",color:"#FF9800"},{default:o(()=>[h(" X轴方向 ")]),_:1})]),_:1}),l(u,{cols:"6",class:"text-center"},{default:o(()=>[l(A,{class:"ma-1",color:"#4CAF50"},{default:o(()=>[h(" Y轴方向 ")]),_:1})]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(y,{modelValue:e(n).exmx1,"onUpdate:modelValue":s[3]||(s[3]=i=>e(n).exmx1=i),label:"尺寸：",density:e(d),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(y,{modelValue:e(n).exmy1,"onUpdate:modelValue":s[4]||(s[4]=i=>e(n).exmy1=i),label:"尺寸：",density:e(d),suffix:"mm",class:"mb-2"},null,8,["modelValue","density"])]),_:1})]),_:1})]),_:1}))}},te={__name:"setting-pallet",setup(_){const b=v("density"),c=V();let d=[],n=[{id:1,name:"托板A",code:1001,deep:5,exmx1:800,exmy1:400,num:3},{id:2,name:"托板B",code:1002,deep:5,exmx1:800,exmy1:400,num:3},{id:3,name:"托板C",code:1003,deep:5,exmx1:800,exmy1:400,num:3},{id:4,name:"托板D",code:1004,deep:5,exmx1:800,exmy1:400,num:3},{id:5,name:"托板E",code:1005,deep:5,exmx1:800,exmy1:400,num:3},{id:6,name:"托板F",code:1006,deep:5,exmx1:800,exmy1:400,num:3},{id:7,name:"托板G",code:1007,deep:5,exmx1:800,exmy1:400,num:3},{id:8,name:"托板H",code:1007,deep:5,exmx1:800,exmy1:400,num:3},{id:9,name:"托板I",code:1007,deep:5,exmx1:800,exmy1:400,num:3}];const k={async fetch({page:r,itemsPerPage:m,sortBy:t}){return new Promise(a=>{setTimeout(()=>{a({items:n})},500)})}},x=v("btnList");I(()=>{R(()=>{x.value=[{name:"新增",color:"#42A5F5",size:"large",width:80,formWidth:800,slot:D(T),fn:({close:r,openLoading:m,closeLoading:t,diaFormRef:a})=>{m({text:"正在上传更新"}),a.submit().finally(()=>{r(),setTimeout(()=>{t()},2e3)})}},{name:"编辑",color:"#00ACC1",size:"large",width:80,formWidth:800,slot:D(T),fn:({close:r,openLoading:m,closeLoading:t,diaFormRef:a})=>{m({text:"正在上传更新"}),a.submit().finally(()=>{r(),setTimeout(()=>{t()},2e3)})}},{name:"保存",color:"#66BB6A",icon:"bx-cloud-upload",size:"large",width:220,mark:"是否保存并上传更新数据？",fn:({close:r,openLoading:m,closeLoading:t,diaFormRef:a})=>{m({text:"正在上传更新"}),r(),setTimeout(()=>{t()},2e3)}}]})});const{t:s}=z(),i=V([{align:"start",sortable:!1,key:"exclusive",fixed:!0,minWidth:70},{title:s("名称"),align:"start",sortable:!1,key:"name",minWidth:90},{title:s("编号"),key:"code",align:"center",sortable:!1,minWidth:90},{title:s("厚度"),key:"deep",align:"center",sortable:!1,minWidth:90},{title:s("尺寸")+"（X-Y）",key:"exmx1",align:"center",sortable:!1,minWidth:90}]),p=V([]),g=V(!0);function W({page:r,itemsPerPage:m,sortBy:t}){g.value=!0,k.fetch({page:r,itemsPerPage:m,sortBy:t}).then(({items:a,total:f})=>{p.value=a,g.value=!1,c.value=a[0].id,x.value[1].slotData=p.value.filter(C=>C.id==a[0].id)[0]})}return(r,m)=>(B(),U(j,{"fixed-header":"",headers:e(i),items:e(p),loading:e(g),"loading-text":"",hover:"",height:"calc(100vh - 175px)","expand-on-click":"",density:e(b),"onUpdate:options":W,"onUpdate:expanded":m[0]||(m[0]=t=>{t.map(a=>{e(d).includes(a)||(c.value=a,e(x)[1].slotData=e(p).filter(f=>f.id==a)[0])}),e(d).map(a=>{t.includes(a)||(c.value=a,e(x)[1].slotData=e(p).filter(f=>f.id==a)[0])}),L(d)?d.value=t:d=t})},{"item.exclusive":o(({item:t})=>[l(G,{"model-value":t.id==e(c),readonly:""},null,8,["model-value"])]),"item.exmx1":o(({item:t})=>[h(F(t.exmx1)+"-"+F(t.exmy1),1)]),loading:o(()=>[]),_:1},8,["headers","items","loading","density"]))}};export{te as default};
